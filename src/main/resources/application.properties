############################################
spring.application.name=nextlearn
############################################

############################################
# DATABASE - RAILWAY MYSQL
############################################
# Ces variables doivent être définies dans:
#  - Railway (dans Variables)
#  - Render (dans Environment)
# Et peuvent avoir des valeurs locales par défaut si souhaité.
############################################

spring.datasource.url=jdbc:mysql://${MYSQLHOST:localhost}:${MYSQLPORT:3306}/${MYSQLDATABASE:nextlearn}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${MYSQLUSER:root}
spring.datasource.password=${MYSQLPASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

############################################
# SERVER CONFIG
############################################
server.port=8081
server.address=0.0.0.0

############################################
# JWT
############################################
jwt.secret=gK9ldh5LdN4nPLT37u4O0nlXWNe+jxwFVnkVfzRA2Z0=
jwt.accessTokenExpirationMs=3600000
jwt.refreshTokenExpirationMs=604800000

############################################
# FILE UPLOAD
############################################
file.upload-dir=uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

############################################
# QWEN API
############################################
qwen.api.url=https://openrouter.ai/api/v1/chat/completions
qwen.api.key=${QWEN_API_KEY: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}
spring.http.client.factory=SIMPLE

############################################
# LOGGING
############################################
logging.level.com.nextcommunity.nextlearn=INFO
logging.level.com.nextcommunity.nextlearn.controller.QuizController=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=logs/nextlearn.log
